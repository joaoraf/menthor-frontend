<!DOCTYPE html>
<html>
<head>
	<!-- Joint Core API -->
    <link rel="stylesheet" href="joint-core/joint.css" />
	<script src="joint-core/jquery.min.js"></script>
    <script src="joint-core/lodash.min.js"></script>
    <script src="joint-core/backbone-min.js"></script>
    <script src="joint-core/joint.js"></script>
	<script src="joint-core/joint.shapes.uml.js"></script>	

	<!-- Menthor Editor API -->
	<link rel="stylesheet" href="menthor-editor/editor.css" />
	<script src="menthor-editor/editor.js"></script>
	<script src="menthor-editor/mcore.js"></script>
	<script src="menthor-editor/ontouml.js"></script>
		
</head>

<body>
	
	<div id="tools">
		<div id="pallete"></div>	
		<br />		
	</div>

	<div id="diagram">
		<div id="editor">
			<div class="resize nw"></div>
			<div class="resize n"></div>
			<div class="resize ne"></div>
			<div class="resize e"></div>
			<div class="resize se"></div>
			<div class="resize s"></div>
			<div class="resize sw"></div>
			<div class="resize w"></div>
			<div class="tools delete" title="Delete"></div>
			<div class="tools duplicate" title="Duplicate"></div>
			<div class="tools connect" title="Connect"></div>
		</div>
		<div id="canvas"></div>
	</div>
    
	<script type="text/javascript">
	
	var tools = new joint.dia.Graph;
	var pallete = new joint.dia.Paper({
		el: $('#pallete'),
		width: $("#pallete").width(),
		height: $("#pallete").height(),
		gridSize: 1,
		interactive: false,
		model: tools
	});
	setupPallete(pallete)	
	_.each(palleteElements(), function(c) { tools.addCell(c); });
   
	graph = new joint.dia.Graph;
	canvas = new joint.dia.Paper({
		el: $('#canvas'),
		width: $("#diagram").width()*2,
		height: $("#diagram").height()*2,
		defaultLink: new joint.shapes.ontouml.Relationship,
		gridSize: 1,
		model: graph
	});	
	setupSelection(graph, canvas);
	setupEdition(graph, canvas);
	//example
	graph.addCells(runningExample());
	
	</script>
</body>
</html>
